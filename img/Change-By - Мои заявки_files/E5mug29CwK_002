!function(){function e(e,t,o,n){function i(t){if(e.jivo_config=L=t,v())throw new Error("Placing widget is forbidden on "+e.top.location.host);O&&L.disable_mobile||(a(),m())}function a(){P.src="javascript:false",P.title="",P.role="presentation",P.setAttribute("name","jivo_container"),P.setAttribute("id","jivo_container"),P.setAttribute("frameborder","no"),F.className+="jivo-no-transition","undefined"==typeof SVGRect&&(F.className+=" no-svg"),(P.frameElement||P).style.cssText="width:100%;height:100%;border:0",e.jivo_init=function(){R=0,B=!1,r()},e.atob&&"complete"!==t.readyState?s(e,"load",r):r(),s(e,"message",function(o){if(!o)return void(console&&console.log&&console.log("Error receive postMessage, window message event is empty."));var n,i,a=o.data;if("in_node_webkit"==a.name&&(n||(n=o.source,i=o.origin),n&&i)){e.jivo_cobrowse={source:n,origin:i};var r="jv_"+encodeURIComponent("langpack")+"_"+L.widget_id+"="+encodeURIComponent(JSON.stringify(a.langpack));L.cookie_domain&&(r+="; domain="+L.cookie_domain),r+="; path=/",t.cookie=r,n.postMessage({name:"widget_ready"},i)}"iframe_url_changed"!=a.name&&"iframe_url_changed"!=a||d()},!1)}function r(){var e=t.getElementsByTagName("head")[0],o=t.createElement("script"),n=L.bundle_folder?L.bundle_folder:"",i=u()+n+"/js/bundle_"+L.locale+".js?rand="+L.build_number;o.type="text/javascript",o.async=!0,o.charset="UTF-8",o.className="js-jivo-bundle",o.src=i,S.bundleSrc=i,e.appendChild(o),o.onerror=function(){_("error")},g()}function c(){U=t.body.lastChild,F.style&&(F.style.visibility="hidden"),F.setAttribute("id","jivo-iframe-container"),F.appendChild(P),U.parentNode.insertBefore(F,U.nextSibling),d()}function d(){if(!(R++>3)){if(!x)return R--,r();try{C=P.contentWindow.document}catch(e){T=t.domain,P.src="javascript:var d=document.open();d.domain='"+T+"';void(0);",C=P.contentWindow.document}C.write('<!doctype HTML><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><script type="text/javascript">'+x+'</script></head><body><div id="widget"></div></body>'),C.close()}}function s(t,o,n){t.addEventListener?t.addEventListener(o,n,!1):t.attachEvent&&(t.attachEvent("on"+o,function(t){return function(){n.call(t,e.event)}}(t)),t=null)}function l(){if(S.hasStorage)var e=parseInt(localStorage.getItem("jv_store_cdn_resolve_time"),10);return e&&e>=(new Date).getTime()||S.cdnUnavailableState}function u(){return L.static_host&&!l()?"//"+L.static_host:L.base_url}function v(){return L.host_blacklist!==n&&L.host_blacklist.indexOf(e.location.host)>=0}function m(){L.cp_tracker_id&&L.cp_tracker_url&&(e._cp={trackerId:L.cp_tracker_id},w(L.cp_tracker_url))}function _(e){clearTimeout(A),++D>=W||B||(S.hasStorage&&(localStorage.setItem("jv_store_cdn_resolve_time",((new Date).getTime()+M).toString()),localStorage.setItem("jv_store_cdn_unavailable",e)),S.cdnUnavailableState=!0,r())}function g(){l()||(A=setTimeout(function(){!B&&_("timeout")},V))}function f(e){B||(clearTimeout(A),B=!0,x=e,c())}function p(e){e.globalStore=S,h()}function h(){x=null;for(var e=t.getElementsByTagName("head")[0],o=e.getElementsByClassName("js-jivo-bundle"),n=0;n<o.length;n++)o[n].parentNode&&(o[n].parentNode.removeChild(o[n]),o[n]=null);o=null}function w(e,o){var n=o||t,i=n.getElementsByTagName("script"),a=i[0],r=n.createElement("script");r.type="text/javascript",r.async=!0,r.charset="UTF-8",a.parentNode.insertBefore(r,a).src=e}if("undefined"==typeof e.jivo_magic_var){e.jivo_magic_var=!0;var b,j,S={hasStorage:e.__hasStorage,cdnUnavailableState:!1,jivoLoaderVersion:o,loadScript:w};try{throw new Error("Get script URL")}catch(y){for(var E=y.stack.split("\n"),k=E.length,I=0;I<k;I++)if(!b){var N=E[I].match(/https?:\/\/(\S+)\/script\/widget\/([A-Za-z0-9]+)/);N&&N.length>1&&(j=N[1],b=N[2])}}if(!b||!j)throw new Error("Failed to evaluate the widgetId or configHost");var L,T,C,U,A,B,x,O=/iPhone|iPad|iPod|Android|Windows Phone/i.test(navigator.userAgent),P=t.createElement("iframe"),F=t.createElement("div"),R=0,V=O?8e3:6e3,M=12e4,W=3,D=0;e.__jivoConfigOnLoad=i,e.__jivoBundleOnLoad=f,e.__jivoBundleInit=p,w("//"+j+"/script/widget/config/"+b)}}var t=.1;window.__hasStorage=!1;try{localStorage.setItem("testLocalStorage","ok"),localStorage.removeItem("testLocalStorage"),window.__hasStorage=!0}catch(o){}var n=e,i=null;if(window.__hasStorage){try{i=JSON.parse(localStorage.getItem("__jivoLoader"))}catch(a){}i&&i.version>=t&&(n=new Function("window","document","jivoLoaderVersion","("+i.code+")(window, document, jivoLoaderVersion)"))}n(window,document,t)}(window,document);